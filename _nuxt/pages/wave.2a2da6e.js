(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{196:function(t,e,h){"use strict";h.r(e);var n=h(191),o=h(192),r=h(193),c=window.innerWidth,d=window.innerHeight,l=window.Float32Array||Array;function v(t,base){return(base||0)+(Math.random()-.5)*t*2}function m(t,e,h){var canvas=document.createElement("canvas"),n=canvas.getContext("2d");canvas.width=t,canvas.height=e,n.fillStyle="black",n.fillRect(0,0,t,e),n.globalAlpha=1/h,n.globalCompositeOperation="lighter";for(var i=0;i<h;i++){var o=x(t>>i,e>>i);n.drawImage(o,0,0,t,e)}return canvas}function x(t,e){var canvas=document.createElement("canvas"),h=canvas.getContext("2d");canvas.width=t,canvas.height=e;for(var n=h.getImageData(0,0,t,e),data=n.data,o=data.length,i=0;i<o;i+=4)data[i]=255*Math.random(),data[i+1]=255*Math.random(),data[i+2]=255*Math.random(),data[i+3]=255;return h.putImageData(n,0,0),canvas}var y={maxAge:300,exposure:.1,damping:.8,noise:1,fuzz:.01,intensity:1,vx:20,vy:20,spawn:5,octaves:.1,color:{r:250,g:250,b:250},width:c,height:d,x:.5*c,y:.5*d},f=function(){function t(e){var h=this;Object(n.a)(this,t),Object(r.assign)(this,y,e),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.ctx=this.canvas.getContext("2d"),this.noiseData=this.noiseCanvas.getContext("2d").getImageData(0,0,this.width,this.height).data,this.particles=[],this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height),this.imgdata=this.ctx.getImageData(0,0,this.width,this.height),this.data=this.imgdata.data,this.ctx.clearRect(0,0,this.width,this.height),this.hdrdata=new l(this.data.length),Object(r.times)(this.noiseData.length,(function(t){h.hdrdata[t]=0})),this.velocity={x:Object(r.random)(-.5,.5,!0),y:Object(r.random)(-.5,.5,!0)},this.update=this.update.bind(this)}return Object(o.a)(t,[{key:"tonemap",value:function(t){return 255*(1-Math.pow(2,.005*-t*this.exposure))}},{key:"getNoise",value:function(t,e,h){return this.noiseData[4*(~~t+~~e*this.width)+h]/127-1}},{key:"update",value:function(){var t=this;if(!(this.x<0||this.x>this.width||this.y<0||this.y>this.height)){this.x+=this.velocity.x,this.y+=this.velocity.y;var e=this.x,h=this.y,n=this.vx,o=this.vy,c=this.width,d=this.color,l=this.maxAge,m=this.damping,x=this.noise,y=this.fuzz,f=this.intensity,w=this.spawn,O=d.r,g=d.g,b=d.b;Object(r.times)(w,(function(r){t.particles.push({vx:v(n),vy:v(o),x:e,y:h,age:0})}));var j=[];this.particles.forEach((function(p){p.vx=p.vx*m+4*t.getNoise(p.x,p.y,0)*x+v(.1)*y,p.vy=p.vy*m+4*t.getNoise(p.x,p.y,1)*x+v(.1)*y,p.age++,Object(r.times)(10,(function(e){p.x+=.1*p.vx,p.y+=.1*p.vy;var h=4*(~~p.x+~~p.y*c);t.data[h]=t.tonemap(t.hdrdata[h]+=O*f),t.data[h+1]=t.tonemap(t.hdrdata[h+1]+=g*f),t.data[h+2]=t.tonemap(t.hdrdata[h+2]+=b*f)})),p.age<l&&j.push(p)})),this.ctx.putImageData(this.imgdata,0,0),this.particles=j}}}]),t}(),w=function(){function t(e){Object(n.a)(this,t);var canvas=e;console.log(e);var h=c,o=d;console.log(h,o),canvas.width=h,canvas.height=o;var r=canvas.getContext("2d"),l=.5*canvas.height,v=m(h,o,8),x=m(h,o,8),y=new f({name:"left",maxAge:300,width:canvas.width,height:canvas.height,damping:.75,exposure:.05,intensity:1,noiseCanvas:v}),w=new f({name:"right",maxAge:300,width:canvas.width,height:canvas.height,noiseCanvas:x,damping:.75,intensity:2,exposure:.05,color:{r:250,g:20,b:20}});y.x=w.x=0,y.y=w.y=l,y.velocity.x=1,w.velocity.x=1,y.velocity.y=w.velocity.y=0,this.canvas=canvas,this.ctx=r,this.emitters=[y],this.update=this.update.bind(this),this.loop=this.loop.bind(this),this.loop()}return Object(o.a)(t,[{key:"update",value:function(){var t=this,e=this.ctx,canvas=this.canvas;e.globalCompositeOperation="normal",e.fillStyle="rgba(0, 0, 0, 1.00)",e.fillRect(0,0,canvas.width,canvas.height),this.ctx.globalCompositeOperation="lighter",this.emitters.forEach((function(e){e.update(),t.ctx.drawImage(e.canvas,0,0),e.ctx.restore()}))}},{key:"loop",value:function(){this.update(),requestAnimationFrame(this.loop)}}]),t}(),O={data:function(){return{smoke:null}},mounted:function(){this.smoke=new w(document.getElementById("canvas"))}},j=h(21),component=Object(j.a)(O,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{attrs:{id:"canvas"}})])}],!1,null,null,null);e.default=component.exports}}]);